[DEMO LINK](https://KirillLutsenko.github.io/demo-gohard/)

***ТЗ***

- из обьекта в котором startDate: "01/01/2021" и endDate: "10/01/2021" у нас должно получится 10 обьектов
  они должны быть сформированы в общем массиве(один массив из обьектов где каждый обьект отдельный день)
- weekends: false - нет отправок в выходные(проверяем есть ли в заданном периоде выходные и выкидываем эти обьекты)
- weekend: true - идет отправка каждую дату из периода
- в каждом из них должно быть количество тонн по формуле:
 tonns / (daysCount - weekends) (если нет отправки в выходные)
 tonns / daysCount (если отправка осуществляется каждый день)
- смерджить все обьекты с одинаковой датой и id (обьеденить все обьекты с одинаковым айди и одинаковой датой)

***Решение***

1. Перебираю массив DB
2. В каждом объекте при помощи функции **formatTheDate** привожу начальную и конечную дату к 
   подобной структуре 'YYYY-MM-DD'
3. При помощи функции **getDates** и библиотеки **Moment.js** получаю массив дат(**datesArray**) из каждого обьекта.
4. Первый **if** проверяет если в обьекте груз не возится по выходным, тогда:
   1. Фильтруем массив дат(**datesArray**) и оставляем в массиве **fiveDaysWeekArray** только рабочие дни.
   2. Мапим отфильтрованный массив и вместо даты создаем копию обьекта в котором меняем значения ключей 
      - startDate(перебираемая дата)
      - endDate(перебираемая дата)
      - tonns(tonns / (daysCount - weekends))
   3. Высыпаем все обьекты в массив **allDaysDB**
5. Второй **if** проверяет если в обьекте груз возится каждый день, тогда:
   1. Мапим массив дат(**datesArray**) и вместо даты создаем копию обьекта в котором меняем значения ключей 
      - startDate(перебираемая дата)
      - endDate(перебираемая дата)
      - tonns(tonns / daysCount)
   2. Высыпаем все обьекты в массив **allDaysDB**
6. Создаем new Map() и присваиваем ее в переменную **mapWithoutRecurringDates**
7. Перебираем массив **allDaysDB** и для каждого перебираемого обьекта делаем след действия:
   - создаем копию чтобы не мутировать перебираемы обьект
   - создаем уникальный **id** состоящий из **currentObj.startDate + ' ' + currentObj.resourceId**(Пример: 2021-01-01 Friday DOR)
   - создаем связку **id:** **currentObj**(перебираемы объект)
   - делаем проверку если в нашем **mapWithoutRecurringDates** уже есть такой ключ то в его обьекте меняем тонны
8. Откидываем уникальные ключи при помощи метода **Map.prototype.values()** и преобразовываем в массив который присваиваем в **finalDB**
